---
import RootLayout from "../layouts/RootLayout.astro";

import Hero from "../components/Hero.astro";
import Intro from "../components/blocks/Intro.astro";
import Diff from "../components/Diff.astro";
import Card from "../components/Card.astro";
import About from "../components/blocks/About.astro";
import Services from "../components/blocks/Services.astro";
import VideoGrid from "../components/VideoGrid.astro";
import { getVideos, type NotionMedia } from "../lib/notion";
import { ChevronDown } from "lucide-astro";

// Fetch videos at build time
let videos: NotionMedia[] = [];
try {
	videos = await getVideos();
} catch (e) {
	console.error("Failed to fetch videos for home page:", e);
}
---

<RootLayout
	title="sudo.create | where light breathes and sound lingers"
	description="Stories told through film, photography, and audio. Every frame composed to stir feeling. Every beat shaped to resonate. We capture emotion — then build the flow that keeps your story alive."
	keywords="cinematic studio, film production, photography, videography, audio production, visual storytelling, creative direction, brand film, emotional narrative"
>
	<Hero
		title="Light. Sound. Story."
		subtitle="We capture the moments that matter — frame by frame, beat by beat. Film, photography, and audio that move people. Systems that keep them flowing."
		buttonText="Roll camera."
		videoPath="/video/water.mp4"
	/>

	<Intro />
	<About />

	<!-- Video Showcase Section -->
	{
		videos.length > 0 && (
			<section class="relative z-10 py-20 px-6 bg-gradient-to-b from-transparent to-black/20">
				<div class="max-w-7xl mx-auto">
					<div class="text-center mb-16">
						<h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
							Stories in Motion
						</h2>
						<p class="text-xl text-gray-300 max-w-3xl mx-auto">
							Every frame tells a story. Every moment captured
							with intention. Explore our latest work in film and
							video production.
						</p>
					</div>

					<VideoGrid
						videos={videos}
						columns={3}
						aspectRatio="video"
						showTitles={true}
						showDescriptions={false}
						maxVideos={6}
					/>

					<div class="text-center mt-12">
						<a
							href="/gallery"
							class="btn btn-outline btn-primary btn-lg"
						>
							View Full Gallery
						</a>
					</div>
				</div>
			</section>
		)
	}

	<Services />

	<!-- FAQ Section -->
	<section class="relative z-10 py-20 px-6">
		<div class="max-w-4xl mx-auto">
			<div class="text-center mb-16">
				<h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
					Frequently Asked Questions
				</h2>
				<p class="text-xl text-gray-300">
					Everything you need to know about working with us
				</p>
			</div>

			<div class="space-y-4">
				<!-- FAQ Item 1 -->
				<div
					class="collapse collapse-plus bg-base-100/50 backdrop-blur-xl border border-white/10 rounded-2xl"
				>
					<input type="radio" name="faq-accordion" checked />
					<div class="collapse-title text-xl font-medium text-white">
						What types of projects do you work on?
					</div>
					<div class="collapse-content text-gray-300">
						<p>
							We specialize in cinematic film production,
							photography, and audio production for brands,
							creators, and studios. From brand films and
							commercials to music videos, event coverage, and
							creative campaigns — if it tells a story, we're in.
						</p>
					</div>
				</div>

				<!-- FAQ Item 2 -->
				<div
					class="collapse collapse-plus bg-base-100/50 backdrop-blur-xl border border-white/10 rounded-2xl"
				>
					<input type="radio" name="faq-accordion" />
					<div class="collapse-title text-xl font-medium text-white">
						What's your typical project timeline?
					</div>
					<div class="collapse-content text-gray-300">
						<p>
							Project timelines vary based on scope and
							complexity. A typical branded video project takes
							2-4 weeks from concept to delivery, including
							pre-production, shoot days, and post-production.
							Rush projects are available with expedited
							timelines. We'll provide a detailed timeline during
							our initial consultation.
						</p>
					</div>
				</div>

				<!-- FAQ Item 3 -->
				<div
					class="collapse collapse-plus bg-base-100/50 backdrop-blur-xl border border-white/10 rounded-2xl"
				>
					<input type="radio" name="faq-accordion" />
					<div class="collapse-title text-xl font-medium text-white">
						Do you travel for projects?
					</div>
					<div class="collapse-content text-gray-300">
						<p>
							Absolutely! We work on location anywhere your story
							needs to be told. Travel arrangements and logistics
							are factored into project quotes. Whether it's
							across town or across the country, we bring the same
							level of quality and dedication to every shoot.
						</p>
					</div>
				</div>

				<!-- FAQ Item 4 -->
				<div
					class="collapse collapse-plus bg-base-100/50 backdrop-blur-xl border border-white/10 rounded-2xl"
				>
					<input type="radio" name="faq-accordion" />
					<div class="collapse-title text-xl font-medium text-white">
						What's included in your video packages?
					</div>
					<div class="collapse-content text-gray-300">
						<p>
							Our packages typically include pre-production
							planning, on-location filming with professional
							equipment, color grading, sound design, music
							licensing, and multiple rounds of revisions. We also
							offer add-ons like drone footage, additional shoot
							days, extended cuts, and social media optimized
							versions.
						</p>
					</div>
				</div>

				<!-- FAQ Item 5 -->
				<div
					class="collapse collapse-plus bg-base-100/50 backdrop-blur-xl border border-white/10 rounded-2xl"
				>
					<input type="radio" name="faq-accordion" />
					<div class="collapse-title text-xl font-medium text-white">
						How do you handle revisions?
					</div>
					<div class="collapse-content text-gray-300">
						<p>
							We include a set number of revision rounds in all
							our packages (typically 2-3 rounds depending on the
							project). We believe in collaboration and want you
							to love the final product. Additional revisions
							beyond the package scope can be accommodated for an
							additional fee.
						</p>
					</div>
				</div>

				<!-- FAQ Item 6 -->
				<div
					class="collapse collapse-plus bg-base-100/50 backdrop-blur-xl border border-white/10 rounded-2xl"
				>
					<input type="radio" name="faq-accordion" />
					<div class="collapse-title text-xl font-medium text-white">
						What equipment do you use?
					</div>
					<div class="collapse-content text-gray-300">
						<p>
							We use professional cameras, high-end lenses,
							professional audio equipment, and industry-standard
							editing software. Our gear is selected to match the
							creative vision of each project.
						</p>
					</div>
				</div>

				<!-- FAQ Item 7 -->
				<div
					class="collapse collapse-plus bg-base-100/50 backdrop-blur-xl border border-white/10 rounded-2xl"
				>
					<input type="radio" name="faq-accordion" />
					<div class="collapse-title text-xl font-medium text-white">
						How do I get started?
					</div>
					<div class="collapse-content text-gray-300">
						<p>
							Simple! Reach out through our contact page or
							schedule a consultation. We'll discuss your vision,
							project goals, timeline, and budget. From there,
							we'll create a custom proposal tailored to your
							needs. No obligation — just a conversation about
							bringing your story to life.
						</p>
					</div>
				</div>
			</div>

			<!-- CTA after FAQ -->
			<div class="text-center mt-16">
				<p class="text-xl text-gray-300 mb-6">Still have questions?</p>
				<a href="/contact" class="btn btn-primary btn-lg">
					Let's Talk
				</a>
			</div>
		</div>
	</section>
</RootLayout>
